<!DOCTYPE html>
<html>
<head>
	<title>Abraham Duno</title>
	<meta charset="utf-8">

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">

	<style type="text/css">
		body, html {
			background: #222;
		    color: white;

		    font-family: 'Roboto', sans-serif;
		    font-family: 'Mulish', sans-serif;

		}		
		.container {
			position: relative;
			top: 10px;
			display: flex;
			align-items: center;
			flex-direction: column;
		}
		.header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			width: 90vw;
			margin-bottom: 20px;
		}
		.bold { font-weight: bold; }
		.text-giant { font-size: 2em; }
		.icon-orange { stroke: #FFEA00; }
		.text-orange { color: #FFEA00; }
		.icon-beige { stroke: #B6A19E; }
		.text-beige { color: #B6A19E; }
		.icon-red { stroke: #F14447; }
		.text-red { color: #F14447; }
		.icon-purple { stroke: #FD8FFA; }
		.text-purple { color: #FD8FFA; }
		.icon-blue { stroke: #6EA0FD; }
		.text-blue { color: #6EA0FD; }
		.icon-green { stroke: #3BFBB6; }
		.text-green { color: #3BFBB6; }
		#gallery {
			width: 100vw !important;
		}

		h1 {	font-size: 4em; }
		h2 {	font-size: 2.5em; }
		h3 {	font-size: 2em; }
		h4 {	font-size: 1.75em; }
		h5 {	font-size: 1.5em; }
		h6 {	font-size: 1.25em; }

		 /* Extra small devices (phones, 600px and down) */
		@media only screen and (max-width: 599px) {

		}

		/* Small devices (portrait tablets and large phones, 600px and up) */
		@media only screen and (min-width: 600px) {

		}

		/* Medium devices (landscape tablets, 768px and up) */
		@media only screen and (min-width: 768px) {

		}

		/* Large devices (laptops/desktops, 992px and up) */
		@media only screen and (min-width: 992px) {
			
		}
		@media only screen and (max-width: 991px) {
			
		}

		/* Extra large devices (large laptops and desktops, 1200px and up) */
		@media only screen and (min-width: 1200px) {

		} 

	</style>


	<!-- <script src="fontawesome-all.js"></script> -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />


	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Mulish:wght@200&family=Roboto:wght@100&display=swap" rel="stylesheet"> 
</head>
<body>
	<div class="container" id="templateViewId">
		<h1><a href="https://instagram.com/tresduno" target="_blank" style="color: white">@tresduno</a></h1>
		<hr style="width: 50%; opacity: .5">
		<h4 style="opacity: .5">Tabla de Precios</h4>

		<div style="display: flex; width: 75%">
			<i style="opacity: .5" class="fa fa-xl fa-camera"></i>
			<span>1</span><h2 style="margin: 0; padding-bottom: 25px"> Foto</h2>
			<span style="flex: 1"></span>
			<h2 style="opacity: .5; margin: 0; padding-bottom: 25px" id="photo_type_prices_md">$</h2>
		</div>

		<div style="display: flex; width: 75%">
			<i style="opacity: .5" class="fa fa-xl fa-video"></i>
			<span>1</span><h2 style="margin: 0; padding-bottom: 25px"> Video <small>(15-25 seg)</small> </h2>
			<span style="flex: 1"></span>
			<h2 style="opacity: .5; margin: 0; padding-bottom: 25px" id="video_type_prices_sm">$</h2>
		</div>

		<div style="display: flex; width: 75%">
			<i style="opacity: .5" class="fa fa-xl fa-video"></i>
			<span>1</span><h2 style="margin: 0; padding-bottom: 25px"> Video <small>(30-55 seg)</small> </h2>
			<span style="flex: 1"></span>
			<h2 style="opacity: .5; margin: 0; padding-bottom: 25px" id="video_type_prices_md">$</h2>
		</div>

		<div style="display: flex; width: 75%">
			<i style="opacity: .5" class="fa fa-xl fa-video"></i>
			<span>1</span><h2 style="margin: 0; padding-bottom: 25px"> Video <small>(60-90 seg)</small> </h2>
			<span style="flex: 1"></span>
			<h2 style="opacity: .5; margin: 0; padding-bottom: 25px" id="video_type_prices_lg">$</h2>
		</div>

		<!-- <div style="display: flex; width: 75%">
			<span>1</span><h2 style="margin: 0; padding-bottom: 25px">Video <small>(+1 min)</small></h2>
			<span style="flex: 1"></span>
			<h2 style="opacity: .5; margin: 0; padding-bottom: 25px">$7/<small>min</small></h2>
		</div> -->

		<div style="display: flex; width: 75%">
			<i style="opacity: .5" class="fa fa-xl fa-user-clock"></i>
			<h2 style="margin: 0; padding-bottom: 25px">Hora de Trabajo</h2>
			<span style="flex: 1"></span>
			<h2 style="opacity: .5; margin: 0; padding-bottom: 25px">$1-5</h2>
		</div>

		<h1>Orden</h1>

		<div style="width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
			<div style="width: 50%;">
				<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%">
					<h4 style="text-align: center; flex: 1; opacity: .5"><i class="fa fa-camera"></i> Foto(s)</h4>
					<span></span>
					<h3 style="text-align: center; flex: 1">
						<input type="number" name="photo_amount" placeholder="0" value="" min="0"  data-watch="photo_amount_changed"  data-keyup
						style="font-size: 35px; padding: 15px; background: rgba(0,0,0,.25); color: white; border: none; width: 50%;
						border-bottom: 1px solid rgb(127,127,127); text-align: center;">
					</h3>
				</div>
			</div>
			<div style="flex: 1; ">
				<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%">
					<h4 style="text-align: center; flex: 1; opacity: .5"><i class="fa fa-video"></i> Video(s)</h4>
					<span></span>
					<h3 style="text-align: center; flex: 1; opacity: .5">
						<label style="margin: 0 5px 0px 20px;">15-25s</label>
						<input type="number" name="video_type_sm" value="0" min="0" data-watch="video_type_changed" data-keyup data-video_type_size="sm" placeholder="0" 
						style="font-size: 35px; padding: 15px; background: rgba(0,0,0,.25); color: white; border: none; width: 100px;
						margin-right: 20px; border-bottom: 1px solid rgb(127,127,127); text-align: center;">

						<!-- <br> -->

						<label style="margin: 0 5px 0px 20px">30-55s</label>
						<input type="number" name="video_type_md" value="0" min="0" data-watch="video_type_changed" data-keyup data-video_type_size="md" placeholder="0" 
						style="font-size: 35px; padding: 15px; background: rgba(0,0,0,.25); color: white; border: none; width: 100px;
						margin-right: 20px; border-bottom: 1px solid rgb(127,127,127); text-align: center;">

						<!-- <br> -->

						<label style="margin: 0 5px 0px 20px">60-90s</label>
						<input type="number" name="video_type_lg" value="0" min="0" data-watch="video_type_changed" data-keyup data-video_type_size="lg" placeholder="0" 
						style="font-size: 35px; padding: 15px; background: rgba(0,0,0,.25); color: white; border: none; width: 100px;
						margin-right: 20px; border-bottom: 1px solid rgb(127,127,127); text-align: center;">

					</h3>
						<!-- <hr style="width: 50%; opacity: .5"> -->
						<br style="margin-top: 25px">
						<!-- <br> -->

						<!-- <br> -->
				</div>
				<div style="width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
					<h4 style="text-align: center; flex: 1; opacity: .5">Info.</h4>
					<span></span>
					<h2 style="text-align: center;  width: 75%;">
						<textarea name="desc" placeholder="Descripcion" value=""
						style="font-size: 25px; padding: 5px; background: transparent; color: white; border: none;
						border-bottom: 1px solid rgb(127,127,127); width: 100%"></textarea>
					</h2>
				</div>

				<div style="width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
					<h3 style="text-align: center; flex: 1; opacity: .5">
						<i class="fa fa-user-clock"></i>
						<label style="margin: 0 5px 0px 20px">Hora de Trabajo</label>
						<span style="padding-right: 10px; margin-right: 10px"> </span>
						<input type="number" name="work_hour_amount" value="1" min="1" data-watch="work_hour_amount_changed" data-keyup placeholder="1" 
						style="font-size: 35px; padding: 15px; background: rgba(0,0,0,.25); color: white; border: none; width: 100px;
						margin-right: 20px; border-bottom: 1px solid rgb(127,127,127); text-align: center;">
						<small>hrs</small>
						<span>x</span>
						<small>$</small>
						<input type="number" name="work_hour_price" value="1" min="1" data-watch="work_hour_price_changed" data-keyup placeholder="1" 
						style="font-size: 35px; padding: 15px; background: rgba(0,0,0,.25); color: white; border: none; width: 100px;
						margin-right: 20px; border-bottom: 1px solid rgb(127,127,127); text-align: center;">
					</h3>
				<div style="width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
			</div>
		</div>

		<h1 class="total_title" style="margin: 0">Total: $0</h1>
		<h6 class="total_title_desc" style="opacity: .5"></h6>

	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
	</script>
	<!-- <script src="jquery.min.js"></script> -->
	<script type="text/javascript">
		class jQueryTemplateView {
			constructor($container, options, data = null)
			{
				this.$container = $($container);

				this.options = Object.assign({
				}, options);

				this.data = Object.assign({
					work_hour_price: 1,
					work_hour_amount: 1,
					photo_amount: 0,
					photo_type_prices: {
						"sm": 1,
						"md": 2,
						"lg": 5,
					},
					video_type_prices: {
						"sm": 9,
						"md": 15,
						"lg": 25,
					},
					video_type_amounts: {
						"sm": 0,
						"md": 0,
						"lg": 0,
					},
					sizes_array: ["sm","md","lg"],
				}, data);

				let self = this;
				
				
				$('#photo_type_prices_md').html("$"+self.data.photo_type_prices.md);

				$('#video_type_prices_sm').html("$"+self.data.video_type_prices.sm);
				$('#video_type_prices_md').html("$"+self.data.video_type_prices.md);
				$('#video_type_prices_lg').html("$"+self.data.video_type_prices.lg);

				this.requests =
				{
				};

				this.updaters =
				{
					updateTotalAmount(event = null)
					{
						// console.log("updateTotalAmount")
						// console.log(self.getTotalAmount())
						$('.total_title').html("Total: $"+self.getTotalAmount());
						// console.log(self.getTotalDesc())
						$('.total_title_desc').html(self.getTotalDesc());
						// console.log("video_type_changed")
					},
				};

				this.watchers =
				{
					video_type_changed(event = null)
					{
						self.data.video_type_amounts[event.currentTarget.dataset.video_type_size] = event.currentTarget.value;
						self.updaters.updateTotalAmount();
					},
					work_hour_amount_changed(event = null)
					{
						self.data.work_hour_amount = event.currentTarget.value;
						self.updaters.updateTotalAmount();
					},
					work_hour_price_changed(event = null)
					{
						self.data.work_hour_price = event.currentTarget.value;
						self.updaters.updateTotalAmount();
					},
					photo_amount_changed(event = null)
					{
						self.data.photo_amount = event.currentTarget.value;
						self.updaters.updateTotalAmount();
					},
				};

				this.clickers =
				{
				};

				this.initWatchers();
			}

			initWatchers()
			{
				let self = this;

				$("[data-keyup]").keyup((event) =>
				{
					self.watchers[$(event.currentTarget).data('watch')] && self.watchers[$(event.currentTarget).data('watch')](event);
				});

				this.$container.on('change',"[data-watch]", function(event)
				{
					self.watchers[$(this).data('watch')](event);
				});

				this.$container.on('click',"[data-click]", function(event)
				{
					self.clickers[$(this).data('click')](event);
				});

				this.updaters.updateTotalAmount()
			}

			getTotalAmount(event = null)
			{
				let totalAmount = 0;

				for (var i = 0; i < this.data.sizes_array.length; i++)
				{
					// console.log(this.data.sizes_array[i], this.data.video_type_amounts, parseInt(this.data.video_type_amounts[this.data.sizes_array[i]]))
					if (!parseInt(this.data.video_type_amounts[this.data.sizes_array[i]]))
					{
						continue
					}
					totalAmount += parseInt(this.data.video_type_amounts[this.data.sizes_array[i]]) * this.data.video_type_prices[this.data.sizes_array[i]];
				}

				let photosValue = !this.data.photo_amount ? 0 : parseInt(this.data.photo_amount) * this.data.photo_type_prices.md
				// console.table({
				// 	totalAmount,
				// 	photosValue,
				// })

				return totalAmount + photosValue + (parseInt(this.data.work_hour_price) * parseInt(this.data.work_hour_amount));
			}
			getTotalDesc(event = null)
			{
				let totalDesc = "";

				for (var i = 0; i < this.data.sizes_array.length; i++)
				{
					if (!this.data.video_type_amounts[this.data.sizes_array[i]]) continue
					totalDesc += ""+ this.data.video_type_amounts[this.data.sizes_array[i]] +
								" videos "+ this.data.sizes_array[i] +
								" ($"+ this.data.video_type_prices[this.data.sizes_array[i]] +") + ";
				}

				if (this.data.photo_amount == 0)
				{
					// totalDesc = totalDesc.substring(0, totalDesc.length - 2)
				} else {
					totalDesc += parseInt(this.data.photo_amount) + ` foto${(parseInt(this.data.photo_amount) == 1 ? '' : 's')} + `
				}
				// totalDesc = totalDesc.substring(0, totalDesc.length - 2)

				// if (this.data.work_hour_price > 0 && this.data.work_hour_amount > 0)
				{
					// totalDesc += " & "
					totalDesc += `( ${parseInt(this.data.work_hour_amount)}hrs x $${parseInt(this.data.work_hour_price)} ($${this.data.work_hour_price*this.data.work_hour_amount}) )`
				}

				return totalDesc
			}
		}

		$(document).ready(function(){

			let newjQueryTemplateView = new jQueryTemplateView('#templateViewId', {
			});

			$('[name="photo_amount"]').val(null);
			$('[name="desc"]').val("");

			$('[name="video_type_sm"]').val(null);
			$('[name="video_type_md"]').val(null);
			$('[name="video_type_lg"]').val(null);
			$('[name="work_hour_price"]').val(null);
			$('[name="work_hour_amount"]').val(null);
		});
		
	</script>

</body>
</html>
